!function(r){var n={};function t(e){if(n[e])return n[e].exports;var u=n[e]={i:e,l:!1,exports:{}};return r[e].call(u.exports,u,u.exports,t),u.l=!0,u.exports}t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:e})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,n){if(1&n&&(r=t(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var u in r)t.d(e,u,function(n){return r[n]}.bind(null,u));return e},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p="/",t(t.s=9)}([function(r,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"d",function(){return i}),t.d(n,"b",function(){return a}),t.d(n,"e",function(){return c}),t.d(n,"c",function(){return f}),t.d(n,"f",function(){return s});var e=t(3);function u(r,n){for(;;){var t=n,o=r,i=o.length,a=i-t.length|0;if(0===a)return o.apply(null,t);if(!(a<0))return function(r,n){return function(t){return u(r,n.concat([t]))}}(o,t);n=e.b(t,i,0|-a),r=o.apply(null,e.b(t,0,i))}}function o(r,n){var t=r.length;return 1===t?r(n):function(r,n,t){switch(t){case 1:return r(n);case 2:return function(t){return r(n,t)};case 3:return function(t,e){return r(n,t,e)};case 4:return function(t,e,u){return r(n,t,e,u)};case 5:return function(t,e,u,o){return r(n,t,e,u,o)};case 6:return function(t,e,u,o,i){return r(n,t,e,u,o,i)};case 7:return function(t,e,u,o,i,a){return r(n,t,e,u,o,i,a)};default:return u(r,[n])}}(r,n,t)}function i(r){return 1===r.length?r:function(n){return o(r,n)}}function a(r,n,t){var e=r.length;return 2===e?r(n,t):function(r,n,t,e){switch(e){case 1:return u(r(n),[t]);case 2:return r(n,t);case 3:return function(e){return r(n,t,e)};case 4:return function(e,u){return r(n,t,e,u)};case 5:return function(e,u,o){return r(n,t,e,u,o)};case 6:return function(e,u,o,i){return r(n,t,e,u,o,i)};case 7:return function(e,u,o,i,a){return r(n,t,e,u,o,i,a)};default:return u(r,[n,t])}}(r,n,t,e)}function c(r){return 2===r.length?r:function(n,t){return a(r,n,t)}}function f(r,n,t,e){var o=r.length;return 3===o?r(n,t,e):function(r,n,t,e,o){switch(o){case 1:return u(r(n),[t,e]);case 2:return u(r(n,t),[e]);case 3:return r(n,t,e);case 4:return function(u){return r(n,t,e,u)};case 5:return function(u,o){return r(n,t,e,u,o)};case 6:return function(u,o,i){return r(n,t,e,u,o,i)};case 7:return function(u,o,i,a){return r(n,t,e,u,o,i,a)};default:return u(r,[n,t,e])}}(r,n,t,e,o)}function s(r){return 3===r.length?r:function(n,t,e){return f(r,n,t,e)}}},function(r,n,t){"use strict";t.d(n,"d",function(){return e}),t.d(n,"e",function(){return u}),t.d(n,"c",function(){return o}),t.d(n,"b",function(){return i}),t.d(n,"f",function(){return a}),t.d(n,"a",function(){return c});var e=["Failure",-2],u=["Invalid_argument",-3],o=["End_of_file",-4],i=["Division_by_zero",-5],a=["Not_found",-6],c=["Assert_failure",-10];e.tag=248,u.tag=248,o.tag=248,i.tag=248,a.tag=248,c.tag=248},function(r,n,t){"use strict";(function(r){t.d(n,"f",function(){return s}),t.d(n,"g",function(){return u}),t.d(n,"e",function(){return o}),t.d(n,"a",function(){return i}),t.d(n,"c",function(){return a}),t.d(n,"d",function(){return c}),t.d(n,"b",function(){return f});var e=t(0),u=["",function(n,t){var e=t.length-1|0;return void 0!==r&&r.stdout&&r.stdout.write?r.stdout.write(t):"\n"===t[e]?(console.log(t.slice(0,e)),0):(console.log(t),0)}],o=["",function(r,n){var t=n.length-1|0;return"\n"===n[t]?(console.log(n.slice(0,t)),0):(console.log(n),0)}];function i(r){return""!==r[0]?(e.b(r[1],r,r[0]),r[0]="",0):0}function a(n,t,e,o){var a=0===e&&o===t.length?t:t.slice(e,o);if(void 0!==r&&r.stdout&&r.stdout.write&&n===u)return r.stdout.write(a);var c=a.lastIndexOf("\n");return c<0?(n[0]=n[0]+a,0):(n[0]=n[0]+a.slice(0,c+1|0),i(n),n[0]=n[0]+a.slice(c+1|0),0)}function c(r,n){return a(r,String.fromCharCode(n),0,1)}function f(r){return[u,[o,0]]}var s=void 0}).call(this,t(4))},function(r,n,t){"use strict";t.d(n,"b",function(){return u}),t.d(n,"a",function(){return o});var e=t(1);function u(r,n,t){for(var e=new Array(t),u=0,o=n;u<t;)e[u]=r[o],u=u+1|0,o=o+1|0;return e}function o(r,n){if(n<0||n>=r.length)throw[e.e,"index out of bounds"];return r[n]}},function(r,n){var t,e,u=r.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(r){if(t===setTimeout)return setTimeout(r,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(r,0);try{return t(r,0)}catch(n){try{return t.call(null,r,0)}catch(n){return t.call(this,r,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(r){t=o}try{e="function"==typeof clearTimeout?clearTimeout:i}catch(r){e=i}}();var c,f=[],s=!1,l=-1;function d(){s&&c&&(s=!1,c.length?f=c.concat(f):l=-1,f.length&&v())}function v(){if(!s){var r=a(d);s=!0;for(var n=f.length;n;){for(c=f,f=[];++l<n;)c&&c[l].run();l=-1,n=f.length}c=null,s=!1,function(r){if(e===clearTimeout)return clearTimeout(r);if((e===i||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(r);try{e(r)}catch(n){try{return e.call(null,r)}catch(n){return e.call(this,r)}}}(r)}}function p(r,n){this.fun=r,this.array=n}function h(){}u.nextTick=function(r){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];f.push(new p(r,n)),1!==f.length||s||a(v)},p.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=h,u.addListener=h,u.once=h,u.off=h,u.removeListener=h,u.removeAllListeners=h,u.emit=h,u.prependListener=h,u.prependOnceListener=h,u.listeners=function(r){return[]},u.binding=function(r){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(r){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(r,n,t){"use strict";(function(r){function e(n){var t={style:"list-style-type: none; padding-left: 12px; margin: 0"},e={style:"flex-shrink: 0; padding-right: 5px"},u={style:"flex-shrink: 0; padding-right: 5px; color: rgb(145, 145, 145)"},o=function(r){return void 0==r?r+"":["object",{object:r}]},i=function(r,n){return["ol",t,...r.map(function(r,t){return["li",{},["span",u,t],["span",{style:"color: rgb(227, 110, 236)"},n[t]],["span",e,":"],["span",{},o(r)]]})]},a=function(r){for(var n=[],t=r,u=0;"number"!=typeof t;)n.push(["li",{},["span",{style:"color: rgb(227, 110, 236)"},u],["span",e,":"],o(t[0])]),t=t[1],u++;return n},c=function(r){return Array.isArray(r)&&void 0!==r[0]&&function(r){return Array.isArray(r)&&248===r.tag&&"string"==typeof r[0]}(r[0])},f={header:function(r){var n,t,e;return void 0!==(n=r[Symbol.for("BsRecord")])?["div",{},function(r){var n=r.length-1;return r.reduce(function(r,t,e){return e===n?r+t+"}":r+t+", "},"record {")}(n)]:void 0!==(t=r[Symbol.for("BsVariant")])?function(r,n){return"::"===n?["span",{},`list(${a(r).length})`]:["span",{},`${n}(…)`]}(r,t):c(r)?["div",{},`${r[0][0]}(…)`]:void 0!==r[Symbol.for("BsLocalModule")]?["div",{},"Module"]:void 0!==(e=r[Symbol.for("BsPolyVar")])?["div",{},`\`${e}#${r[0]}`]:null},hasBody:function(r){var n;return void 0!==r[Symbol.for("BsRecord")]||(void 0!==(n=r[Symbol.for("BsVariant")])?n:!!c(r)||(void 0!==r[Symbol.for("BsLocalModule")]||void 0!==r[Symbol.for("BsPolyVar")]))},body:function(r){var n,e,u;return void 0!==(n=r[Symbol.for("BsRecord")])?i(r,n):void 0!==(u=r[Symbol.for("BsLocalModule")])?i(r,u):void 0!==(e=r[Symbol.for("BsVariant")])?function(r,n){return"::"===n?["ol",t,...a(r)]:["ol",t,...r.map(function(r){return o(r)})]}(r,e):void 0!==r[Symbol.for("BsPolyVar")]?o(r[1]):c(r)?["ol",t,...r.slice(1).map(r=>o(r))]:void 0}};return"undefined"==typeof window?r.devtoolsFormatters=[f]:window.devtoolsFormatters=[f],0}t.d(n,"a",function(){return e})}).call(this,t(8))},function(r,n,t){r.exports=t.p+"toplevel.21cd62817335f65de009858da291be4d.js"},function(r,n,t){"use strict";(function(r){t.d(n,"a",function(){return e});t(1);function e(n){return void 0!==r?r.exit(n):0}}).call(this,t(4))},function(r,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(t=window)}r.exports=t},function(r,n,t){"use strict";function e(r,n){return Object.defineProperty(n,Symbol.for("BsRecord"),{value:r})}function u(r,n,t){return t.tag=n,Object.defineProperty(t,Symbol.for("BsVariant"),{value:r})}function o(r,n){return Object.defineProperty(n,Symbol.for("BsVariant"),{value:r})}function i(r,n){return Object.defineProperty(n,Symbol.for("BsLocalModule"),{value:r})}t.r(n);var a=t(0),c=[];function f(r){if(void 0===r){var n=[c,0];return n.tag=256,n}if(null!==r&&r[0]===c){var t=r[1]+1|0,e=[c,t];return e.tag=256,e}return r}function s(r){if(null!==r&&r[0]===c){var n=r[1];return 0===n?void 0:[c,n-1|0]}return r}var l=[0];function d(r){var n=[r,(l[0]+=1,l[0])];return n.tag=248,n}var v=d("Caml_js_exceptions.Error");function p(r){return function(r){if(void 0===r)return!1;if(248===r.tag)return!0;var n=r[0];return void 0!==n&&248===n.tag}(r)?r:[v,r]}var h=v,g=t(5),m=i([],[]),y=i([],[]),b=i([],[]);i(["PhraseContent","Refmt","LinkResult"],[m,y,b]);function w(r){var n=r[1],t=r[2],e=r[3],o=function(r,n){try{return u("Ok",0,[a.a(r,n)])}catch(r){var t=p(r);if(t[0]===h)return u("Error",1,[t[1]]);throw t}},c=r[4],f=r[5],s=r[8],l=r[9],d=r[6],v=r[7],g=r[10],w=r[11];return i(["PhraseContent","Refmt","LinkResult","reset","execute","mlSyntax","reSyntax","_wrap","parseRE","parseREI","parseML","parseMLI","printRE","printREI","printML","printMLI","insertModule"],[m,y,b,n,function(n){return a.a(r[0],n)},t,e,o,function(r){return o(c,r)},function(r){return o(f,r)},function(r){return o(s,r)},function(r){return o(l,r)},d,v,g,w,function(n,t,e){return r[12](n,t,e)}])}var k=t(6);var _=t(1);var E=t(2);t(7);function S(r){if(r<0)throw[_.e,"String.create"];for(var n=new Array(r),t=0,e=r-1|0;t<=e;++t)n[t]=0;return n}function x(r,n,t,e,u){if(u>0){if(r===t){var o=r,i=n,a=e,c=u;if(i<a){for(var f=(o.length-a|0)-1|0,s=c-1|0,l=f>s?s:f;l>=0;--l)o[a+l|0]=o[i+l|0];return 0}if(i>a){for(var d=(o.length-i|0)-1|0,v=c-1|0,p=d>v?v:d,h=0;h<=p;++h)o[a+h|0]=o[i+h|0];return 0}return 0}var g=r.length-n|0;if(u<=g){for(var m=0,y=u-1|0;m<=y;++m)t[e+m|0]=r[n+m|0];return 0}for(var b=0,w=g-1|0;b<=w;++b)t[e+b|0]=r[n+b|0];for(var k=g,_=u-1|0;k<=_;++k)t[e+k|0]=0;return 0}return 0}function M(r){var n=r,t=r.length,e="",u=t;if(t<=4096&&t===n.length)return String.fromCharCode.apply(null,n);for(var o=0;u>0;){var i=u<1024?u:1024,a=new Array(i);x(n,o,a,0,i),e+=String.fromCharCode.apply(null,a),u=u-i|0,o=o+i|0}return e}function R(r){for(var n=r.length,t=new Array(n),e=0,u=n-1|0;e<=u;++e)t[e]=r.charCodeAt(e);return t}Math.imul;function L(r){return r>=65?r>=97?r>=123?-1:r-87|0:r>=91?-1:r-55|0:r>57||r<48?-1:r-48|0}function O(r){switch(r){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2}}function T(r){var n=1,t=2,e=0;switch(r.charCodeAt(e)){case 43:e=e+1|0;break;case 44:break;case 45:n=-1,e=e+1|0}if("0"===r[e]){var u=r.charCodeAt(e+1|0);if(u>=89)if(u>=111){if(u<121)switch(u-111|0){case 0:t=0,e=e+2|0;break;case 6:e=e+2|0;break;case 1:case 2:case 3:case 4:case 5:case 7:case 8:break;case 9:t=1,e=e+2|0}}else 98===u&&(t=3,e=e+2|0);else if(66!==u){if(u>=79)switch(u-79|0){case 0:t=0,e=e+2|0;break;case 6:e=e+2|0;break;case 1:case 2:case 3:case 4:case 5:case 7:case 8:break;case 9:t=1,e=e+2|0}}else t=3,e=e+2|0}return[e,n,t]}function A(r){var n=T(r),t=n[0],e=O(n[2]),u=r.length,o=L(t<u?r.charCodeAt(t):0);if(o<0||o>=e)throw[_.d,"int_of_string"];var i=n[1]*function(n,t){for(;;){var o=t,i=n;if(o===u)return i;var a=r.charCodeAt(o);if(95!==a){var c=L(a);if(c<0||c>=e)throw[_.d,"int_of_string"];var f=e*i+c;if(f>4294967295)throw[_.d,"int_of_string"];t=o+1|0,n=f}else t=o+1|0}}(o,t+1|0),a=0|i;if(10===e&&i!==a)throw[_.d,"int_of_string"];return a}d("Pervasives.Exit");E.f,E.g,E.e;E.a,E.d,E.d;function B(r){return r>=65&&r<=90||r>=192&&r<=214||r>=216&&r<=222?r+32|0:r}function j(r,n){var t=n.length;if(0===t)return n;for(var e=S(t),u=0,o=t-1|0;u<=o;++u)e[u]=a.a(r,n[u]);return e}function I(r){return M(function(r){return j(B,r)}(R(r)))}function P(r,n){return function(r,n){for(var t=r.length,e=new Array(t),u=0,o=0,i=t-1|0;o<=i;++o){var a=r[o];n(a)&&(e[u]=a,u=u+1|0)}return e.length=u,e}(r,a.d(n))}function C(r,n,t){for(var e=n,u=0,o=r.length-1|0;u<=o;++u)e=t(e,r[u]);return e}function V(r){return function(r,n){for(;;){var t=n,e=r;if(!e)return t;n=[e[0],t],r=e[1]}}(r,0)}var F=t(3);function $(r,n){return function(r,n){if(void 0!==r)return f(n(s(r)))}(r,a.d(n))}d("Editor_Types-Sketch.UnknownLanguage");i([],[]);i(["blockDataToBlockTyp"],[function(r){return r.tag?1:0}]),i([],[]);function U(r){return C(P(r.split('File "", '),function(r){return""!==r.trim()}),[],function(r,n){var t,o=n.split(/line\s(\d+), characters (\d+)-(\d+):\n/gi);if(5!==o.length)t=u("Err_Unknown",2,['File "", '+n]);else{var i=A(F.a(o,1)),a=F.a(o,4).trim(),c=e(["errMsg_content","errMsg_loc"],[a,[e(["line","col"],[i-1|0,A(F.a(o,2))]),e(["line","col"],[i-1|0,A(F.a(o,3))])]]);t=0===a.indexOf("Error")?u("Err_Error",1,[c]):0===a.indexOf("Warning")?u("Err_Warning",0,[c]):u("Err_Unknown",2,['File "", '+n])}return function(r,n){for(var t=r.length,e=n.length,u=new Array(t+e|0),o=0,i=t-1|0;o<=i;++o)u[o]=r[o];for(var a=0,c=e-1|0;a<=c;++a)u[t+a|0]=n[a];return u}(r,[t])})}function z(r){return e(["line","col"],[r.line-1|0,r.col])}t.d(n,"Analyze",function(){return N}),t.d(n,"Refmt",function(){return W}),g.a(0),importScripts(k),postMessage(e(["w_id","w_message"],["ready",0]));var N=function(r){var n=w(r),t=function(r){return""===r?void 0:r},c=function(r,n){var u,o=n.stderr,i=n.loc;if(null==i)if(void 0!==r){var a=r[1],c=a[1],f=a[0];u=[e(["line","col"],[f+1|0,c+1|0]),e(["line","col"],[f+1|0,c+1|0])]}else u=[e(["line","col"],[0,0]),e(["line","col"],[0,0])];else u=function(r){return[z(r[0]),z(r[1])]}(i);var s=t(o);return[u,e(["block_result","block_loc"],[e(["blockResult_evaluate","blockResult_stderr","blockResult_stdout"],[t(n.value),$(s,U),t(n.stdout)]),u])]},f=function(r){for(var t=a.a(n[4],r),e=t.length,u=0,i=0,f=void 0;;){var s=f,l=i,d=u;if(!(d<e))return[V(l),!1];var v=F.a(t,d),p=v.kind;switch(p){case"Error":return[o("::",[c(s,v.value)[1],l]),!0];case"Ok":var h=c(s,v.value);f=h[0],i=o("::",[h[1],l]),u=d+1|0;continue;default:throw[_.e,"Unknown phrase result "+p]}}},s=function(r,t,e){r?a.a(n[6],0):a.a(n[5],0);var o=I(function(r){return r?"RE":"ML"}(r)),i=n[16](t,e,o);switch(i.kind){case"Error":return u("Error",1,[i.value]);case"Ok":return u("Ok",0,[0]);default:return u("Error",1,["unknown link result"])}},l=d("Worker_Analyze-Sketch.Make(ESig).Not_Implemented"),v=function(r){for(var n=r,t=0;;){var u=t,i=n;if(!i)return u;var a,c=i[0];if(c.tag)throw l;var f=c[0];t=o("::",[e(["link","result"],[(a=[c,s(f[3],f[2],f[4])])[0],a[1]]),u]),n=i[1]}};return i(["Evaluator","emptyStringToOption","parseStderr","makeBlockResult","execute","link","Not_Implemented","linkMany","executeMany","executeEmbed"],[n,t,function(r){return $(r,U)},c,f,s,l,v,function(r,t,u){a.a(n[3],0);var i=v(u);return r?a.a(n[6],0):a.a(n[5],0),[i,function(r,n){for(;;){var t=n,u=r;if(!u)return t;var i=u[0],a=f(i[1]),c=e(["id","result"],[i[0],a[0]]);if(a[1])return o("::",[c,t]);n=o("::",[c,t]),r=u[1]}}(t,0)]},function(r,t){return a.a(n[3],0),r?a.a(n[6],0):a.a(n[5],0),f(t)[0]}])}([function(r){return evaluator.execute(r)},function(r){return evaluator.reset(),0},function(r){return evaluator.mlSyntax(),0},function(r){return evaluator.reasonSyntax(),0},function(r){return refmt.parseRE(r)},function(r){return refmt.parseREI(r)},function(r){return refmt.printRE(r)},function(r){return refmt.printREI(r)},function(r){return refmt.parseML(r)},function(r){return refmt.parseMLI(r)},function(r){return refmt.printML(r)},function(r){return refmt.printMLI(r)},evaluator.insertModule]),W=function(r){var n=w(r);return i(["Evaluator","refmtMany"],[n,function(r,t){var i;switch(r){case 0:i=[n[8],n[14]];break;case 1:i=[n[10],n[12]];break;case 2:i=[n[8],n[12]]}var c=i[1],f=i[0],s=function(r){var n=a.a(f,r);return n.tag?u("Error",1,[n[0]]):u("Ok",0,[a.a(c,n[0]).trim()])},l=function(r,n,t){for(;;){var u=t,i=n,a=r;if(!a)return[i,u];var c=a[0],f=s(c[1]),l=e(["refmt_id","refmt_value"],[c[0],f]);t=u||!!f.tag,n=o("::",[l,i]),r=a[1]}}(t,0,!1);return e(["hasError","result"],[l[1],l[0]])}])}([function(r){return evaluator.execute(r)},function(r){return evaluator.reset(),0},function(r){return evaluator.mlSyntax(),0},function(r){return evaluator.reasonSyntax(),0},function(r){return refmt.parseRE(r)},function(r){return refmt.parseREI(r)},function(r){return refmt.printRE(r)},function(r){return refmt.printREI(r)},function(r){return refmt.parseML(r)},function(r){return refmt.parseMLI(r)},function(r){return refmt.printML(r)},function(r){return refmt.printMLI(r)},evaluator.insertModule]);self.onmessage=function(r){var n,t=r.data,o=t[1];switch(0|o.tag){case 0:n=u("ExecuteResult",0,[u("Ok",0,[N[8](o[0],o[1],o[2])])]);break;case 1:n=u("ExecuteEmbedResult",1,[u("Ok",0,[N[9](o[0],o[1])])]);break;case 2:n=u("RefmtResult",2,[u("Ok",0,[a.b(W[1],o[0],o[1])])]);break;case 3:try{importScripts(o[0])}catch(r){var i=p(r);if(i[0]!==h)throw i;console.log(i[1])}n=1}return postMessage(e(["w_id","w_message"],[t[0],n])),0}}]);